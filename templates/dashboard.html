<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ student.name }}'s Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container py-4">
  <h2 class="mb-4">Welcome, {{ student.name }} ðŸ‘‹</h2>
  <p class="text-muted">You have access up to <strong>{{ student.grade.name }}</strong>.</p>
  <a href="{{url_for('logout')}}" class="btn btn-outline-danger btn-sm">Logout</a>

  <div class="accordion" id="gradesAccordion">
    {% for data in grades_data %}
      <div class="accordion-item">
        <h2 class="accordion-header" id="heading{{ data.grade.id }}">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                  data-bs-target="#collapse{{ data.grade.id }}" aria-expanded="false"
                  aria-controls="collapse{{ data.grade.id }}">
            {{ data.grade.name }}
          </button>
        </h2>
        <div id="collapse{{ data.grade.id }}" class="accordion-collapse collapse"
             aria-labelledby="heading{{ data.grade.id }}" data-bs-parent="#gradesAccordion">
          <div class="accordion-body">
            <ul class="list-group">
              {% for subject in data.subjects %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  {{ subject.name }}
                  <a href="{{ url_for('subject_lessons', subject_id=subject.id) }}" class="btn btn-sm btn-outline-primary">
                    View Lessons â†’
                  </a>
                </li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>